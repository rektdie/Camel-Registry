<div class="container py-4">
  <h1 class="h3 mb-3">Camels</h1>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div class="row g-4">
    <div class="col-lg-7">
      <table class="table table-striped table-bordered align-middle">
        <thead class="table-light">
          <tr>
            <th class="text-center" style="width: 80px;">Id</th>
            <th style="width: 250px;">Name</th>
            <th class="text-center" style="width: 120px;">Humps</th>
            <th class="text-center" style="width: 140px;">Action</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let c of camels">
            <td class="text-center">{{ c.id }}</td>
            <td>{{ c.name }}</td>
            <td class="text-center">{{ c.humpCount }}</td>
            <td class="text-center">
              <button class="btn btn-sm btn-primary" (click)="edit(c)">Edit</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="col-lg-5">
      <div class="card">
        <div class="card-body">
          <h2 class="h5 mb-3">
            {{ editingId === null ? 'Create camel' : 'Edit camel #' + editingId }}
          </h2>

          <form [formGroup]="form" (ngSubmit)="save()">
            <div class="mb-3">
              <label class="form-label">Name</label>
              <input class="form-control"
                     [class.is-invalid]="isInvalid('name')"
                     formControlName="name" />
              <div class="invalid-feedback">
                Name is required (min 2 characters).
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">Hump count</label>
              <input type="number"
                     class="form-control"
                     [class.is-invalid]="isInvalid('humpCount')"
                     formControlName="humpCount" />
              <div class="invalid-feedback">
                HumpCount must be 1 or 2.
              </div>
            </div>

            <div class="d-flex gap-2">
              <button class="btn btn-success" type="submit">
                {{ editingId === null ? 'Create' : 'Save' }}
              </button>

              <button class="btn btn-secondary" type="button" (click)="clear()">
                Clear
              </button>
            </div>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>
